import n,{useEffect as o,forwardRef as t,useImperativeHandle as e}from"react";var r,i=function(){return i=Object.assign||function(n){for(var o,t=1,e=arguments.length;t<e;t++)for(var r in o=arguments[t])Object.prototype.hasOwnProperty.call(o,r)&&(n[r]=o[r]);return n},i.apply(this,arguments)};function c(n,o){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&o.indexOf(e)<0&&(t[e]=n[e]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(e=Object.getOwnPropertySymbols(n);r<e.length;r++)o.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(n,e[r])&&(t[e[r]]=n[e[r]])}return t}"function"==typeof SuppressedError&&SuppressedError,function(n){n.ApiKey="API key",n.ContractCode="Contract Code"}(r||(r={}));var a=function(n){var o=n.paymentMethods,t=void 0===o?["CARD","ACCOUNT_TRANSFER"]:o,e=n.amount,a=n.apiKey,l=n.contractCode,u=c(n,["paymentMethods","amount","apiKey","contractCode"]);if(void 0===window)throw console.error("Unable to launch checkout"),new Error("Unable to launch checkout");var d=null==u?void 0:u.onLoadStart,m=null==u?void 0:u.onLoadComplete,s=null==u?void 0:u.onComplete,y=null==u?void 0:u.onClose,f=[];a?f.splice(f.indexOf(r.ApiKey),1):f.push(r.ApiKey),l?f.splice(f.indexOf(r.ContractCode),1):f.push(r.ContractCode),f.length>0&&console.error("".concat(f.join(", ")," is invalid")),/^\d+(\.\d{1,2})?$/.test("".concat(e))||console.error("Invalid amount"),window.MonnifySDK.initialize(i({apiKey:a,contractCode:l,amount:e,paymentMethods:t,onClose:function(n){null==y||y(n)},onLoadStart:function(){null==d||d()},onLoadComplete:function(){null==m||m()},onComplete:function(n){null==s||s(n)}},u))},l=function(n){var t=n.callbacks,e=n.configs;o((function(){document.getElementById("monnify-hook")&&document.getElementById("monnify-hook");var n=document.createElement("script");return n.src="https://sdk.monnify.com/plugin/monnify.js",n.type="text/javascript",n.async=!0,n.id="monnify-hook",document.body.appendChild(n),function(){document.body.removeChild(n)}}),[]);return{initialize:function(n){console.log("MONIFY HOOKS::"),a(i(i(i({},n),e),t))}}},u=function(t){var e=t.children,r=t.style,i=t.className,l=c(t,["children","style","className"]);o((function(){document.getElementById("monnify-button")&&document.getElementById("monnify-button");var n=document.createElement("script");return n.src="https://sdk.monnify.com/plugin/monnify.js",n.type="text/javascript",n.async=!0,n.id="monify-button",document.body.appendChild(n),function(){document.body.removeChild(n)}}),[]);return n.createElement("button",{className:i,style:r,onClick:function(){a(l)}},e)},d=t((function(n,t){var r=n.config,c=n.callbacks;return o((function(){document.getElementById("monnify-forwardref")&&document.getElementById("monnify-forwardref");var n=document.createElement("script");return n.src="https://sdk.monnify.com/plugin/monnify.js",n.type="text/javascript",n.async=!0,n.id="monnify-forward",document.body.appendChild(n),function(){document.body.removeChild(n)}}),[]),e(t,(function(){return{initialize:function(n){a(i(i(i({},n),r),c))}}})),null}));d.displayName="MonnifyCheckout";export{u as MonnifyButton,d as MonnifyCheckout,l as useMonnifyCheckout};
//# sourceMappingURL=index.es.js.map
